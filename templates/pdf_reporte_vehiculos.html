<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Reporte de Vehículos PDF</title>
  <style>
    body { font-family: Arial, sans-serif; font-size: 12px; }
    h2 { color: #134e27; text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #000; padding: 5px; text-align: left; }
    th { background-color: #0e5b36; color: #fff; }
    tr:nth-child(even) { background-color: #c7e1c9; }
  </style>
</head>
<body>
  <h2>Reporte de Vehículos - COBOCE</h2>
  <p class="fecha">Fecha y hora del reporte: {{ fecha_reporte }}</p>

  <h3>Vehículos con Entregas Activas</h3>
  <table>
    <thead>
      <tr>
        <th>Placa</th><th>Modelo</th><th>Tipo</th><th>Estado</th><th>Conductor</th>
      </tr>
    </thead>
    <tbody>
      {% for v in vehiculos_en_entrega %}
      <tr>
        <td>{{ v.placa }}</td>
        <td>{{ v.modelo }}</td>
        <td>{{ v.tipo_vehiculo }}</td>
        <td>{{ v.estado }}</td>
        <td>{{ v.nombre_conductor or 'No asignado' }} {{ v.apellido_conductor or '' }}</td>
      </tr>
      {% else %}
      <tr><td colspan="5" style="text-align:center;">No hay vehículos con entregas activas</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <h3>Vehículos que Completaron Entregas</h3>
  <table>
    <thead>
      <tr>
        <th>Placa</th><th>Modelo</th><th>Tipo</th><th>Estado</th><th>Conductor</th>
      </tr>
    </thead>
    <tbody>
      {% for v in vehiculos_entregados %}
      <tr>
        <td>{{ v.placa }}</td>
        <td>{{ v.modelo }}</td>
        <td>{{ v.tipo_vehiculo }}</td>
        <td>{{ v.estado }}</td>
        <td>{{ v.nombre_conductor or 'No asignado' }} {{ v.apellido_conductor or '' }}</td>
      </tr>
      {% else %}
      <tr><td colspan="5" style="text-align:center;">No hay vehículos que completaron entregas</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <h3>Vehículos Libres / Disponibles</h3>
  <table>
    <thead>
      <tr>
        <th>Placa</th><th>Modelo</th><th>Tipo</th><th>Estado</th>
      </tr>
    </thead>
    <tbody>
      {% for v in vehiculos_libres %}
      <tr>
        <td>{{ v.placa }}</td>
        <td>{{ v.modelo }}</td>
        <td>{{ v.tipo_vehiculo }}</td>
        <td>{{ v.estado }}</td>
      </tr>
      {% else %}
      <tr><td colspan="4" style="text-align:center;">No hay vehículos libres</td></tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
